<button type="button" class="float-right btn btn-close p-2" aria-label="Close" (click)="activeModal.dismiss('close')">
  <i class="material-icons material-icons-outlined">close</i>
</button>
<div class="modal-body pb-4">
  <div class="d-flex title p-0 mb-4">Edit Contact Information</div>
  <div class="row bg-white">

    <div class="col-md-12">

      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" autocomplete="nope">
        <ng-container formArrayName="ContactEmails">
          <div class="row contact-emails-container" *ngFor="let _ of contactForm.get('ContactEmails')['controls']; index as i">
            <div class="col-md-12" id="ContactEmails-{{i}}">
              <mat-form-field appearance="outline" class="w-100" *ngIf="i==0">
                <mat-label>Email</mat-label>
                <input matInput [formControlName]="i" [maxLength]="130" placeholder="Email Address" autocomplete="nope"
                  required>
                <mat-error *ngIf="contactFormSubmitted && f.ContactEmails.controls[i].errors">
                  <div *ngIf="f.ContactEmails.controls[i].errors.required">Email is required</div>
                  <div *ngIf="f.ContactEmails.controls[i].errors.email">Email is invalid</div>
                </mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline" class="w-100" *ngIf="i>0">
                <mat-label>Additional Email</mat-label>
                <input matInput [formControlName]="i" [maxLength]="130" placeholder="Additional Email Address (optional)" autocomplete="nope">
              </mat-form-field>
            </div>
          </div>
        </ng-container>

        <div class="row">
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Billing Phone</mat-label>
              <input matInput formControlName="BillingPhone" [maxLength]="100" placeholder="Billing Phone Number" autocomplete="nope"
                required>
              <mat-error *ngIf="contactFormSubmitted && f.BillingPhone.errors">
                <div *ngIf="f.BillingPhone.errors.required">Billing Phone is required</div>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Shipping Phone</mat-label>
              <input matInput formControlName="ShippingPhone" [maxLength]="100" placeholder="Shipping Phone Number" autocomplete="nope"
                required>
              <mat-error *ngIf="contactFormSubmitted && f.ShippingPhone.errors">
                <div *ngIf="f.ShippingPhone.errors.required">Shipping Phone is required</div>
              </mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="row m-0">
          <div class="col-md-6 pl-0">
            <button type="submit" class="btn btn-blue">USE THIS INFORMATION</button>
          </div>
          <div class="col-md-6 pr-0 text-right">
            <button type="button" class="btn btn-default" (click)="activeModal.dismiss('close')">CANCEL</button>
          </div>
        </div>
      </form>

    </div>
  </div>
</div>
